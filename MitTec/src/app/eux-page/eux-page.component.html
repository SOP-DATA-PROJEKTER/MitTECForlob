<div class="dropdown-container">
    <!-- Search input field -->
    <input
      type="text"
      placeholder="Search..."
      [(ngModel)]="searchText"
      (input)="filterList()"
      class="search-input"
      [disabled]="isLoading || hasError" 
    />
    <!-- Last Line In Input Disables search while loading -->
  
    <!-- Show loading message while data is being fetched -->
    <p *ngIf="isLoading" class="loading-message">Loading data...</p>
  
    <!-- Show error message if data fails to load -->
    <p *ngIf="hasError" class="error-message">
      Failed to load data. Please try again later.
    </p>
  
    <!-- Show list of items when data is loaded -->
    <ul *ngIf="!isLoading && !hasError && filteredItems.length > 0" class="dropdown-list">
      <li *ngFor="let item of filteredItems" class="dropdown-item">
        <!-- Main item that can be clicked to show sub-items -->
        <div (click)="toggleItem(item.name)" class="main-item">
          {{ item.name }}
        </div>
  
        <!-- Sub-items list, shown only if the main item is expanded -->
        <ul *ngIf="expandedItem === item.name" class="sub-items-list">
          <li *ngFor="let subItem of item.subItems" class="sub-item">
            {{ subItem }}
          </li>
        </ul>
      </li>
    </ul>
  
    <!-- Show message for no results found -->
    <p *ngIf="!isLoading && !hasError && filteredItems.length === 0 && searchText" class="no-results">
      No results found.
    </p>
  </div>
  